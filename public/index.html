<!DOCTYPE HTML>
<html ng-app="main">
<head>
	<title>Візуалізація відкритих даних</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900' rel='stylesheet' type='text/css'>
	<link href="css/main.css" rel="stylesheet" type="text/css" media="all" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
	<link rel="stylesheet" href="/bower_components/angular-material/angular-material.css">

	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaL34OGHlD9TpvJGoPT1MT4bZ_wJAjGNQ"></script>
</head>
<body ng-controller="MainController as main">

<md-toolbar fix-top ng-cloak>
	<div class="md-toolbar-tools">
		<h2>
			<span>Візуалізація відкритих даних</span>
		</h2>
		<span flex></span>
		<md-button ng-repeat="button in main.buttons" ui-sref="{{button.sref}}" class="md-raised">
			{{button.name}}
		</md-button>
	</div>
</md-toolbar>
<div layout="row" class="all-view">
	<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">

		<md-tabs md-dynamic-height md-border-bottom md-selected="main.selectedTab">
			<md-tab label="Набори">
				<md-content class="md-padding">
					<md-content layout-padding>
						<md-list>
							<md-list-item ng-repeat="dataset in main.datasetList"
										  ng-click="main.openDataset(dataset)">
								<span ng-bind="dataset.name"></span>
								<md-divider></md-divider>
							</md-list-item>
						</md-list>
					</md-content>
				</md-content>
			</md-tab>
			<md-tab label="Фільтр" ng-if="main.isDataStateActive">
				<md-content class="md-padding">
					<div ng-controller="FilterController as filter">
						<div ng-repeat="field in filter.fields">
							<md-input-container>
								<label ng-if="field.type == 'select'" for="{{field.id}}"><span ng-bind="field.id"></span></label>
								<md-select ng-change="filter.applyFilter(field.id, field.selectedVal)"
										   ng-if="field.type == 'select'" id="{{field.id}}" ng-model="field.selectedVal">
									<md-option value="-1" selected="selected"></md-option>
									<md-option ng-repeat="value in field.values" value="{{value.id}}">{{value.name}}</md-option>
								</md-select>
							</md-input-container>

							<label ng-if="field.type == 'range'" for="{{field.id}}"><span ng-bind="field.id"></span></label>
							<md-slider ng-if="field.type == 'range'" flex ng-model="field.selectedVal" min="{{field.minVal}}"
									   max="{{field.maxVal}}" aria-label="blue" id="blue-slider" class="md-primary" id="{{field.id}}"
									   ng-change="filter.applyFilter(field.id, field.selectedVal)">
							</md-slider>
							<span ng-if="field.type == 'range'">{{field.selectedVal}}</span>
						</div>
					</div>
				</md-content>
			</md-tab>
		</md-tabs>
	</md-sidenav>
	<div class="view-container">
		<div ui-view class="main"></div>
	</div>
</div>


<script type="text/javascript" src="app.bundle.js"></script>

<!-- Angular modules -->

<!--<script type="text/javascript" src="/js/factories/resource/polygon.js"></script>-->
<!--<script type="text/javascript" src="/js/factories/polygon.js"></script>-->

</body>
</html>